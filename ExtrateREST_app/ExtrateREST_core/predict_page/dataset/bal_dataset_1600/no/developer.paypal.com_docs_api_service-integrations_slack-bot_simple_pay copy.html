<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="5TSpPYugZFh4ZIPtVNTcBqDp3sSzaLnmoh2nqmxilNA" name="google-site-verification"/>
  <title>
   Add person-to-bot payments - PayPal Developer
  </title>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <meta content="#000000" name="msapplication-TileColor"/>
  <meta content="https://www.paypalobjects.com/webstatic/developer/favicons/pp144.png" name="msapplication-TileImage"/>
  <link href="https://www.paypalobjects.com/webstatic/developer/favicons/pp152.png" rel="apple-touch-icon-precomposed" sizes="152x152"/>
  <link href="https://www.paypalobjects.com/webstatic/developer/favicons/pp144.png" rel="apple-touch-icon-precomposed" sizes="144x144"/>
  <link href="https://www.paypalobjects.com/webstatic/developer/favicons/pp120.png" rel="apple-touch-icon-precomposed" sizes="120x120"/>
  <link href="https://www.paypalobjects.com/webstatic/developer/favicons/pp114.png" rel="apple-touch-icon-precomposed" sizes="114x114"/>
  <link href="https://www.paypalobjects.com/webstatic/developer/favicons/pp57.png" rel="apple-touch-icon-precomposed"/>
  <link href="https://www.paypalobjects.com/webstatic/developer/favicons/pp32.png" rel="icon" sizes="32x32"/>
  <link href="/css/docs.css" rel="stylesheet" type="text/css"/>
  <script data-main="/js/master" src="/components/requirejs/require.js">
  </script>
 </head>
 <body class="dx-docs dx-apis">
  <header class="header" id="header">
   <a aria-label="PayPal Developer" class="header__block header__brand" href="/">
   </a>
   <a aria-label="Toggle top-level navigation" class="header__block dx-trigger-nav-0" data-trigger-nav="dx-nav-open-0">
   </a>
   <div class="dx-trigger-nav-2" data-trigger-nav="dx-nav-open-2">
   </div>
   <div class="header__nav">
    <div class="header__nav--left">
     <ul class="dx-nav-0 dx-nav-0-docs">
      <li class="dx-nav-0-item ">
       <a class="dx-nav-0-link" href="/docs/">
        Docs
       </a>
      </li>
      <li class="dx-nav-0-item dx-nav-active">
       <a class="dx-nav-0-link" href="/reference/">
        APIs
       </a>
      </li>
      <li class="dx-nav-0-item ">
       <a class="dx-nav-0-link" href="/support/">
        Support
       </a>
      </li>
     </ul>
     <form action="/search" class="header__search dx-form-search" id="siteSearch" method="get" name="search">
      <label class="sr-only" for="siteQ">
       Enter search term
      </label>
      <input class="dx-search-input" id="siteQ" name="q" placeholder="Search" type="search" value=""/>
     </form>
    </div>
    <div class="header__nav--right">
     <div class="dx-auth-block profile__container">
      <div class="dx-auth-logged-out">
       <a class="dx-auth-login dx-btn dx-btn-primary" data-dxa="login,nav-click,nav-login" data-js="auth-btn" href="https://www.paypal.com/signin?returnUri=https%3A%2F%2Fdeveloper.paypal.com%2Fdeveloper%2Fapplications">
        Log into Dashboard
       </a>
      </div>
     </div>
    </div>
   </div>
  </header>
  <main class="dx-main">
   <div class="dx-flex">
    <div class="dx-main-nav-slug">
    </div>
    <nav class="dx-main-nav dx-mobile-nav">
     <div class="dx-nav-back">
      <a href="/docs/api/payments/">
       View All Reference
      </a>
     </div>
     <ul class="dx-nav dx-nav-1">
      <li class="dx-nav-1-item dx-nav-active-parent">
       <a class="dx-nav-heading" href="/docs/api/">
        REST APIs
       </a>
       <ul class="dx-nav dx-nav-2">
        <hr/>
        <li class="dx-nav-2-item">
         <h5 class="dx-nav-subheading">
          Get Started
         </h5>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/overview/">
          Get Started
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/api/overview/#authentication-and-authorization">
            Authentication and Authorization
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/overview/#api-requests">
            API Requests
           </a>
           <ul class="dx-nav dx-nav-4">
            <li class="dx-nav-4-item">
             <a href="/docs/api/overview/#query-parameters">
              Query Parameters
             </a>
            </li>
            <li class="dx-nav-4-item">
             <a href="/docs/api/overview/#http-request-headers">
              HTTP Request Headers
             </a>
             <ul class="dx-nav dx-nav-5">
              <li class="dx-nav-5-item">
               <a href="/docs/api/overview/#accept">
                Accept
               </a>
              </li>
              <li class="dx-nav-5-item">
               <a href="/docs/api/overview/#authorization">
                Authorization
               </a>
              </li>
              <li class="dx-nav-5-item">
               <a href="/docs/api/overview/#content-type">
                Content-Type
               </a>
              </li>
              <li class="dx-nav-5-item">
               <a href="/docs/api/overview/#paypal-auth-assertion">
                PayPal-Auth-Assertion
               </a>
              </li>
              <li class="dx-nav-5-item">
               <a href="/docs/api/overview/#paypal-client-metadata-id">
                PayPal-Client-Metadata-Id
               </a>
              </li>
              <li class="dx-nav-5-item">
               <a href="/docs/api/overview/#paypal-partner-attribution-id">
                PayPal-Partner-Attribution-Id
               </a>
              </li>
              <li class="dx-nav-5-item">
               <a href="/docs/api/overview/#paypal-request-id">
                PayPal-Request-Id
               </a>
              </li>
             </ul>
            </li>
           </ul>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/overview/#api-responses">
            API Responses
           </a>
           <ul class="dx-nav dx-nav-4">
            <li class="dx-nav-4-item">
             <a href="/docs/api/overview/#http-status-codes">
              HTTP Status Codes
             </a>
            </li>
            <li class="dx-nav-4-item">
             <a href="/docs/api/overview/#hateoas-links">
              HATEOAS Links
             </a>
            </li>
           </ul>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/overview/#make-your-first-call">
            Make Your First Call
           </a>
          </li>
         </ul>
        </li>
       </ul>
       <ul class="dx-nav dx-nav-2">
        <hr/>
        <li class="dx-nav-2-item">
         <h5 class="dx-nav-subheading">
          API Reference
         </h5>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/balance-accounts">
          Balance Accounts API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/payments.billing-agreements">
          Billing Agreements API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/payments.billing-plans">
          Billing Plans API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/customer-disputes">
          Customer Disputes API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/identity">
          Identity API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/invoicing">
          Invoicing API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/managed-accounts/">
          Managed Accounts API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/orders">
          Orders API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/partner-referrals/">
          Partner Referrals API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/payment-experience">
          Payment Experience API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/payments">
          Payments API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/payments.payouts-batch">
          Payouts API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/referenced-payouts/">
          Referenced Payouts API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/vault">
          Vault API
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/webhooks">
          Webhooks API
         </a>
        </li>
       </ul>
       <ul class="dx-nav dx-nav-2">
        <hr/>
        <li class="dx-nav-2-item">
         <h5 class="dx-nav-subheading">
          Reference
         </h5>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/integration/direct/rest/currency-codes/">
          Currency Codes
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/currency-codes/#paypal-account-payments">
            PayPal Account Payments
           </a>
          </li>
         </ul>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/integration/direct/rest/country-codes/">
          Country Codes
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/country-codes/#paypal-account-payments">
            PayPal Account Payments
           </a>
          </li>
         </ul>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/integration/direct/rest/state-codes/">
          State &amp; Province Codes
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/state-codes/#argentina">
            Argentina
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/state-codes/#brazil">
            Brazil
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/state-codes/#canada">
            Canada
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/state-codes/#india">
            India
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/state-codes/#indonesia">
            Indonesia
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/state-codes/#italy">
            Italy
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/state-codes/#japan">
            Japan
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/state-codes/#mexico">
            Mexico
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/state-codes/#thailand">
            Thailand
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/state-codes/#usa">
            United States
           </a>
          </li>
         </ul>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/integration/direct/rest/locale-codes/">
          Locale Codes
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/locale-codes/#localize-the-checkout-experience">
            Localize the Checkout Experience
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/integration/direct/rest/locale-codes/#supported-locale-codes">
            Supported Locale Codes
           </a>
          </li>
         </ul>
        </li>
       </ul>
       <ul class="dx-nav dx-nav-2">
        <hr/>
        <li class="dx-nav-2-item">
         <h5 class="dx-nav-subheading">
          Release Notes
         </h5>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/release-notes/release-notes-2017/">
          2017
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#09-november-2017">
            09 November 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#02-november-2017">
            02 November 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#25-october-2017">
            25 October 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#20-october-2017">
            20 October 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#19-october-2017">
            19 October 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#11-october-2017">
            11 October 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#05-october-2017">
            05 October 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#22-september-2017">
            22 September 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#21-september-2017">
            21 September 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#14-september-2017">
            14 September 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#07-september-2017">
            07 September 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#31-august-2017">
            31 August 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#24-august-2017">
            24 August 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#16-august-2017">
            16 August 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#11-august-2017">
            11 August 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#09-august-2017">
            09 August 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#04-august-2017">
            04 August 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#27-july-2017">
            27 July 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#19-july-2017">
            19 July 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#13-july-2017">
            13 July 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#06-july-2017">
            06 July 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#28-june-2017">
            28 June 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#22-june-2017">
            22 June 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#15-june-2017">
            15 June 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#09-june-2017">
            09 June 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#25-may-2017">
            25 May 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#11-may-2017">
            11 May 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#04-may-2017">
            04 May 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#25-april-2017">
            25 April 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#13-april-2017">
            13 April 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#30-march-2017">
            30 March 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#23-march-2017">
            23 March 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#16-march-2017">
            16 March 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#27-february-2017">
            27 February 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#16-february-2017">
            16 February 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#02-february-2017">
            02 February 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#25-january-2017">
            25 January 2017
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2017/#05-january-2017">
            05 January 2017
           </a>
          </li>
         </ul>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/release-notes/release-notes-2016/">
          2016
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#22-december-2016">
            22 December 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#17-november-2016">
            17 November 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#10-november-2016">
            10 November 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#04-november-2016">
            04 November 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#27-october-2016">
            27 October 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#06-october-2016">
            06 October 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#29-september-2016">
            29 September 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#08-september-2016">
            08 September 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#01-september-2016">
            01 September 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#11-august-2016">
            11 August 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#04-august-2016">
            04 August 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#27-july-2016">
            27 July 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#20-july-2016">
            20 July 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#07-july-2016">
            07 July 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#16-june-2016">
            16 June 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#02-june-2016">
            02 June 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#11-may-2016">
            11 May 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#02-may-2016">
            02 May 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#06-april-2016">
            06 April 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#10-march-2016">
            10 March 2016
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2016/#26-february-2016">
            26 February 2016
           </a>
          </li>
         </ul>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/release-notes/release-notes-2015/">
          2015
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#16-december-2015">
            16 December 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#13-november-2015">
            13 November 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#25-october-2015">
            25 October 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#21-october-2015">
            21 October 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#12-august-2015">
            12 August 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#19-july-2015">
            19 July 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#18-june-2015">
            18 June 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#19-may-2015">
            19 May 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#05-may-2015">
            05 May 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#23-april-2015">
            23 April 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#05-april-2015">
            05 April 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#25-march-2015">
            25 March 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#12-march-2015">
            12 March 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#26-february-2015">
            26 February 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#13-february-2015">
            13 February 2015
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2015/#22-january-2015">
            22 January 2015
           </a>
          </li>
         </ul>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/release-notes/release-notes-2014/">
          2014
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#17-december-2014">
            17 December 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#10-december-2014">
            10 December 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#03-december-2014">
            03 December 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#05-november-2014">
            05 November 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#23-october-2014">
            23 October 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#15-october-2014">
            15 October 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#01-october-2014">
            01 October 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#17-september-2014">
            17 September 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#13-august-2014">
            13 August 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#23-july-2014">
            23 July 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#07-july-2014">
            07 July 2014
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2014/#07-march-2014">
            07 March 2014
           </a>
          </li>
         </ul>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/release-notes/release-notes-2013/">
          2013
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2013/#30-july-2013">
            30 July 2013
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2013/#28-may-2013">
            28 May 2013
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2013/#22-may-2013">
            22 May 2013
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2013/#15-may-2013">
            15 May 2013
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/release-notes/release-notes-2013/#24-april-2013">
            24 April 2013
           </a>
          </li>
         </ul>
        </li>
       </ul>
       <ul class="dx-nav dx-nav-2">
        <hr/>
        <li class="dx-nav-2-item">
         <h5 class="dx-nav-subheading">
          SDKs
         </h5>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/rest-sdks/">
          SDKs
         </a>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/quickstart/">
          SDK Quickstart
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item">
           <a href="/docs/api/quickstart/install">
            Install the SDK
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/quickstart/environment">
            Configure Environment
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/quickstart/payments">
            Process PayPal Payments
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/quickstart/create-billing-plan">
            Create Billing Plans
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/quickstart/create-billing-agreement">
            Create Billing Agreements
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/quickstart/capture-payment">
            Capture Payments Later
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/quickstart/create-process-order/">
            Create and Process Orders
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/quickstart/refund-payment">
            Refund Payments
           </a>
          </li>
          <li class="dx-nav-3-item">
           <a href="/docs/api/quickstart/create-webhook">
            Create Notification Webhooks
           </a>
          </li>
         </ul>
        </li>
        <li class="dx-nav-2-item dx-nav-active-parent">
         <a href="/docs/api/service-integrations/">
          Service Integrations
         </a>
         <ul class="dx-nav dx-nav-3">
          <li class="dx-nav-3-item dx-nav-active-parent">
           <a href="/docs/api/service-integrations/slack-bot/">
            Slack
           </a>
           <ul class="dx-nav dx-nav-4">
            <li class="dx-nav-4-item dx-nav-active">
             <a href="/docs/api/service-integrations/slack-bot/simple_pay">
              Add Person-to-Bot Payments
             </a>
            </li>
            <li class="dx-nav-4-item">
             <a href="/docs/api/service-integrations/slack-bot/direct_pay">
              Add Person-to-Person Payments
             </a>
            </li>
            <li class="dx-nav-4-item">
             <a href="/docs/api/service-integrations/slack-bot/subscribe">
              Add Agreement for Recurring Payment
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
       </ul>
       <ul class="dx-nav dx-nav-2">
        <hr/>
        <li class="dx-nav-2-item">
         <h5 class="dx-nav-subheading">
          GLOSSARY
         </h5>
        </li>
        <li class="dx-nav-2-item">
         <a href="/docs/api/glossary/">
          Glossary
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </nav>
    <article class="content dx-content ">
     <span class="label u-mobile-hide" data-js="product-section-label">
     </span>
     <h1 class="dx-content-title">
      Add person-to-bot payments
     </h1>
     <p>
      To enable a payer to make a direct payment to your bot:
     </p>
     <table>
      <thead>
       <tr>
        <th>
        </th>
        <th>
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td>
         1.
        </td>
        <td>
         To receive
         <code>
          pay
         </code>
         messages,
         <a href="#listen-for-pay-messages">
          listen for pay messages
         </a>
         .
        </td>
       </tr>
       <tr>
        <td>
         2.
        </td>
        <td>
         To start payment processing,
         <a href="#create-an-interactive-callback">
          create an interactive callback
         </a>
         .
        </td>
       </tr>
       <tr>
        <td>
         3.
        </td>
        <td>
         To enable the payer to approve or cancel the payment,
         <a href="#create-an-approval-endpoint">
          create an approval endpoint
         </a>
         and a
         <a href="#create-a-cancellation-endpoint">
          cancellation endpoint
         </a>
         .
        </td>
       </tr>
      </tbody>
     </table>
     <h2 id="listen-for-pay-messages">
      Listen for pay messages
     </h2>
     <p>
      Set up a controller to listen for
      <code>
       pay
      </code>
      messages to your bot:
     </p>
     <pre><code>/****************************************************************
* If a payer makes a direct payment, provide confirmation 
* before pushing to callback for processing
****************************************************************/
controller.hears('pay', 'direct_message', function(bot, message) {
  bot.reply(message, {
    attachments:[{
      title: 'Would you like to pay for this service?',
      callback_id: '111',
      attachment_type: 'default',
      actions: [{
        name: 'yes',
        text: 'Yes',
        value: 'yes',
        type: 'button',
      },{
        name: 'no',
        text: 'No',
        value: 'no',
        type: 'button',
      }]
    }]
  });
});
</code></pre>
     <p>
      The controller
      <code>
       hears
      </code>
      method prompts the payer with an interactive button so that they can confirm the payment.
     </p>
     <p>
      The bot replies with
      <strong>
       yes
      </strong>
      and
      <strong>
       no
      </strong>
      buttons.
     </p>
     <h2 id="create-an-interactive-callback">
      Create an interactive callback
     </h2>
     <p>
      After the payer clicks
      <strong>
       yes
      </strong>
      or
      <strong>
       no
      </strong>
      , handle that activity through the interactive message callback. For
      <strong>
       no
      </strong>
      , simply cancel the payment. For
      <strong>
       yes
      </strong>
      , create a link to redirect the payer to PayPal to begin payment.
     </p>
     <pre><code>/****************************************************************
* After the payer agrees to the payment or agreement, handle 
* all payment requests in the callback
****************************************************************/
controller.on('interactive_message_callback', function(bot, message) {
  // For no, cancel. Otherwise, process payment.
  if (message.actions[0].value === 'no') {
    bot.replyInteractive(message, 'Payment process cancelled');
  } else {
    bot.replyInteractive(message, 'Generating your payment link. Hold on a moment...');
    
    // Prepare base payment message for bot to respond with
    var reply = {
      attachments: [{
        fallback: 'Payment initiation information failed to load',
        color: '#36a64f',
        pretext: 'Click the link below to initiate payment',
        title: 'Make payment to COMPANY',
        footer: 'PayPal Payment Bot',
        footer_icon: 'https://s3-us-west-2.amazonaws.com/slack-files2/avatars/2016-08-17/70252203425_a7e48673014756aad9a5_96.jpg',
        ts: message.ts
      }]
    };
  
    // Build PayPal payment request
    var payReq = JSON.stringify({
      intent:'sale',
      redirect_urls: {
        return_url: redirect + '/process',
        cancel_url: redirect + '/cancel'
      },
      payer: {
        payment_method: 'paypal'
      },
      transactions: [{
        description: 'This is the payment transaction description.',
        amount: {
          total: '10',
          currency: 'USD'
        }
      }]
    });
         
    // Create payment request before PayPal redirect to approve
    paypal.payment.create(payReq, function(error, payment) {
      if (error) {
        console.error(error);
      } else {
        // Capture HATEOAS links
        var links = {};
        payment.links.forEach(function(linkObj) {
          links[linkObj.rel] = {
            href: linkObj.href,
            method: linkObj.method
          };
        })
    
        // If redirect url present, insert link into bot message and display
        if (links.hasOwnProperty('approval_url')) {
          reply.attachments[0].title_link = links['approval_url'].href;
          bot.replyInteractive(message, reply);
        } else {
          console.error('no redirect URI present');
        }
      }
    });
  }
});
</code></pre>
     <p>
      After the payer clicks
      <strong>
       yes
      </strong>
      , the app:
     </p>
     <ul>
      <li>
       Creates an immediate, interactive reply to notify the payer that processing has begun.
      </li>
      <li>
       Creates the interactive reply that houses the link to PayPal because you cannot automatically redirect the payer to a web address.
      </li>
      <li>
       Creates the payment request object, which includes all required payment information.
      </li>
      <li>
       Calls
       <code>
        payment.create(...)
       </code>
       with the payment request object.
      </li>
      <li>
       If the payment starts successfully, extracts the approval URL. Redirects the payer to the approval URL, adds it to the bot reply, and displays the reply to the payer.
      </li>
     </ul>
     <h2 id="create-an-approval-endpoint">
      Create an approval endpoint
     </h2>
     <p>
      After the payer confirms payment, redirect him or her to the
      <code>
       /process
      </code>
      endpoint in the application.
     </p>
     <p>
      To handle this redirect, add an HTTP
      <code>
       GET /process
      </code>
      endpoint:
     </p>
     <pre><code>/****************************************************************
* After the payer is redirected to PayPal, process a direct 
* PayPal payment
****************************************************************/
controller.webserver.get('/process', function(req, res) {
  // Extract payment confirmation information needed to process payment
  var paymentId = req.query.paymentId;
  var payerId = { payer_id: req.query.PayerID };

  // Attempt to complete the payment for the person
  paypal.payment.execute(paymentId, payerId, function(error, payment) {
    if (error) {
      console.error(JSON.stringify(error));
    } else {
      if (payment.state == 'approved') { 
        res.send('Payment completed successfully');
      } else {
        res.send('Payment not successful');
      }
    }
  });
});
</code></pre>
     <p>
      After that endpoint is triggered, extract the payment ID and payer ID that PayPal sends. Call
      <code>
       payment.execute(...)
      </code>
      with the variables to complete payment.
     </p>
     <h2 id="create-a-cancellation-endpoint">
      Create a cancellation endpoint
     </h2>
     <p>
      If the payer cancels the payment during the PayPal payment confirmation step, redirect the payer to the
      <code>
       /cancel
      </code>
      endpoint in the app.
     </p>
     <p>
      To handle this redirect, add an HTTP
      <code>
       GET /cancel
      </code>
      endpoint:
     </p>
     <pre><code>/****************************************************************
* Payment incomplete: The payer canceled the PayPal payment
****************************************************************/
controller.webserver.get('/cancel', function(req, res) {
  res.send('Payment canceled');
});
</code></pre>
     <p>
      This example simply displays a
      <code>
       Payment canceled
      </code>
      message. Your app should provide a properly handled experience.
     </p>
     <span class="dxf-insert-rating">
     </span>
    </article>
   </div>
   <footer class="footer">
    <section class="section">
     <div class="section__content">
      <div class="grid">
       <div class="grid__item grid__item--3">
        <h3 class="footer__head">
         Docs
        </h3>
        <ul class="footer__nav">
         <li>
          <a href="/docs/integration/direct/express-checkout/integration-jsv4/" rel="nofollow">
           Express Checkout
          </a>
         </li>
         <li>
          <a href="/docs/integration/web" rel="nofollow">
           Payment Buttons
          </a>
         </li>
         <li>
          <a href="https://developers.braintreepayments.com/start/overview/" rel="nofollow">
           Braintree SDK
          </a>
         </li>
         <li>
          <a href="/docs/directory/" rel="nofollow">
           All Docs
          </a>
         </li>
        </ul>
       </div>
       <div class="grid__item grid__item--3">
        <h3 class="footer__head">
         Support
        </h3>
        <ul class="footer__nav">
         <li>
          <a href="/docs/faq/" rel="nofollow">
           FAQ
          </a>
         </li>
         <li>
          <a href="https://www.paypal-techsupport.com/" rel="nofollow">
           Merchant Support
          </a>
         </li>
         <li>
          <a href="https://www.paypal.com/selfhelp/help/home" rel="nofollow">
           Account Support
          </a>
         </li>
         <li>
          <a href="https://www.paypal-community.com/t5/Merchant-Integration-Technical/ct-p/mts" rel="nofollow">
           Community
          </a>
         </li>
        </ul>
       </div>
       <div class="grid__item grid__item--3">
        <h3 class="footer__head">
         Resources
        </h3>
        <ul class="footer__nav">
         <li>
          <a href="https://github.com/paypal/" rel="nofollow">
           GitHub
          </a>
         </li>
         <li>
          <a href="https://www.paypal.com/partnerprogram" rel="nofollow">
           Partners
          </a>
         </li>
         <li>
          <a href="https://demo.paypal.com" rel="nofollow">
           PayPal Demo
          </a>
         </li>
         <li>
          <a href="https://devblog.paypal.com/" rel="nofollow">
           Blog
          </a>
         </li>
        </ul>
       </div>
       <div class="grid__item grid__item--3">
        <h3 class="footer__head">
         Family
        </h3>
        <ul class="footer__nav">
         <li>
          <a href="https://paypal.com/" rel="nofollow">
           PayPal
          </a>
         </li>
         <li>
          <a href="https://braintreepayments.com/" rel="nofollow">
           Braintree
          </a>
         </li>
         <li>
          <a href="https://venmo.com/" rel="nofollow">
           Venmo
          </a>
         </li>
         <li>
          <a href="https://www.paydiant.com/" rel="nofollow">
           Paydiant
          </a>
         </li>
         <li>
          <a href="https://xoom.com/" rel="nofollow">
           Xoom
          </a>
         </li>
        </ul>
       </div>
      </div>
      <div class="grid">
       <div class="grid__item grid__item--6">
        <ul class="footer__legal">
         <li>
          <a class="scTrack:privacy-policy" href="https://www.paypal.com/us/cgi-bin/webscr?cmd=p/gen/ua/policy_privacy-outside" rel="nofollow">
           Privacy
          </a>
         </li>
         <li>
          <a class="scTrack:legal-agreements" href="https://www.paypal.com/webapps/mpp/ua/legalhub-full" rel="nofollow">
           Legal
          </a>
         </li>
         <li>
          <a href="https://www.paypal.com/us/webapps/helpcenter/helphub/home/" rel="nofollow">
           Contact
          </a>
         </li>
        </ul>
       </div>
       <div class="grid__item grid__item--6">
        <p class="footer__copyright">
         Â©2018 PayPal
        </p>
       </div>
      </div>
     </div>
    </section>
   </footer>
  </main>
 </body>
</html>